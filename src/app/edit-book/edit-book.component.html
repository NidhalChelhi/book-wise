<div class="px-6 max-w-[800px]">
  <form [formGroup]="editBookForm" (ngSubmit)="onSubmit()">
    <div class="space-y-6">
      <!-- Title -->
      <div>
        <label for="title" class="block text-sm font-medium text-dark-200"
          >Book Title</label
        >
        <input
          id="title"
          formControlName="title"
          type="text"
          placeholder="Enter the book title"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        />
        <div *ngIf="isFieldInvalid('title')" class="text-red-500 text-sm mt-1">
          {{ getErrorMessage("title") }}
        </div>
      </div>

      <!-- Author -->
      <div>
        <label for="author" class="block text-sm font-medium text-dark-200"
          >Author</label
        >
        <input
          id="author"
          formControlName="author"
          type="text"
          placeholder="Enter the author name"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        />
        <div *ngIf="isFieldInvalid('author')" class="text-red-500 text-sm mt-1">
          {{ getErrorMessage("author") }}
        </div>
      </div>

      <!-- Genre -->
      <div>
        <label for="genre" class="block text-sm font-medium text-dark-200"
          >Genre</label
        >
        <select
          id="genre"
          formControlName="genre"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        >
          <option value="" disabled selected>
            Enter the genre of the book
          </option>
          <option *ngFor="let genre of genres" [value]="genre">
            {{ genre }}
          </option>
        </select>
        <div *ngIf="isFieldInvalid('genre')" class="text-red-500 text-sm mt-1">
          {{ getErrorMessage("genre") }}
        </div>
      </div>

      <!-- Rating -->
      <div>
        <label for="rating" class="block text-sm font-medium text-dark-200"
          >Rating</label
        >
        <input
          id="rating"
          formControlName="rating"
          type="number"
          step="0.1"
          min="0"
          max="5"
          placeholder="Enter the rating"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        />
        <div *ngIf="isFieldInvalid('rating')" class="text-red-500 text-sm mt-1">
          {{ getErrorMessage("rating") }}
        </div>
      </div>

      <!-- Description -->
      <div>
        <label for="description" class="block text-sm font-medium text-dark-200"
          >Description</label
        >
        <textarea
          id="description"
          rows="4"
          formControlName="description"
          placeholder="Enter the book description"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        ></textarea>
        <div
          *ngIf="isFieldInvalid('description')"
          class="text-red-500 text-sm mt-1"
        >
          {{ getErrorMessage("description") }}
        </div>
      </div>

      <!-- Cover Color -->
      <div>
        <label for="coverColor" class="block text-sm font-medium text-dark-200"
          >Book Primary Color</label
        >
        <div class="flex items-end gap-4">
          <!-- Color Preview -->
          <div
            class="size-[42px] rounded-md"
            [style.backgroundColor]="
              editBookForm.get('coverColor')?.value || '#ffffff'
            "
          ></div>

          <!-- Hex Code Input -->
          <input
            id="coverColor"
            formControlName="coverColor"
            type="text"
            placeholder="#000000"
            class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
            (input)="onColorInputChange($event)"
          />
        </div>
        <div
          *ngIf="isFieldInvalid('coverColor')"
          class="text-red-500 text-sm mt-1"
        >
          {{ getErrorMessage("coverColor") }}
        </div>
      </div>

      <!-- Cover URL -->
      <div>
        <label for="coverUrl" class="block text-sm font-medium text-dark-200"
          >Book Image URL</label
        >
        <input
          id="coverUrl"
          formControlName="coverUrl"
          type="url"
          placeholder="Enter the book image URL"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        />
        <div
          *ngIf="isFieldInvalid('coverUrl')"
          class="text-red-500 text-sm mt-1"
        >
          {{ getErrorMessage("coverUrl") }}
        </div>
      </div>

      <!-- Summary -->
      <div>
        <label for="summary" class="block text-sm font-medium text-dark-200"
          >Book Summary</label
        >
        <textarea
          id="summary"
          formControlName="summary"
          rows="16"
          placeholder="Write a brief summary of the book"
          class="mt-1 block w-full rounded-md border border-[#CBD5E1] p-2 bg-[#f9fafb] text-dark-200"
        ></textarea>
        <div
          *ngIf="isFieldInvalid('summary')"
          class="text-red-500 text-sm mt-1"
        >
          {{ getErrorMessage("summary") }}
        </div>
      </div>

      <!-- Submit Button -->
      <div>
        <button
          type="submit"
          class="bg-primary-admin py-3 px-5 rounded-lg text-white font-medium disabled:bg-dark-700 disabled:cursor-not-allowed"
          [disabled]="editBookForm.invalid"
        >
          Update Book
        </button>
      </div>
    </div>
  </form>
</div>
